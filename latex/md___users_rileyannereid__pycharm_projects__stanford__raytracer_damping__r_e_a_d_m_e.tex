A tool to compute wave attenuation due to Landau damping and geometric spreading in the magnetosphere. A companion code to the Stanford 3D Ray Tracing package.\hypertarget{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md129}{}\doxysection{Building}\label{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md129}
This software has been compiled on O\+SX Mojave (10.\+14.\+5), and Linux (Fedora 6), but should build on anything.

This software has the following requirements\+: -- \mbox{\hyperlink{namespace_eigen}{Eigen}} (\href{http://eigen.tuxfamily.org}{\texttt{ http\+://eigen.\+tuxfamily.\+org}}). A zipped version is provided in {\ttfamily lib/eigen-\/3.\+3.\+7.\+zip}. Unzip it into the {\ttfamily lib/} directory.

-- xform\+\_\+double\+: A set of Fortran coordinate transforms, originating with the Tsyganenko Geopack libraries. It\textquotesingle{}s included in lib/xform\+\_\+double.

-- Matlab\+: The code needs Matlab, and the associated C headers, to read a .mat data file. Edit the root Makefile to point to your Matlab install, e.\+g.\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{MATLAB\_DIR=/Applications/MATLAB\_R2019a.app/extern/include}
\DoxyCodeLine{MATLAB\_BIN=/Applications/MATLAB\_R2019a.app/bin/maci64}
\end{DoxyCode}


Depending on your machine, you may need to edit the Makefile to point the linker to your installed version of {\ttfamily libgfortran}. Mine shows up under {\ttfamily L\+G\+F\+O\+R\+T\+R\+A\+N\+\_\+\+P\+A\+TH=/usr/local/\+Cellar/gcc/8.3.\+0/lib/gcc/8}, since I installed gfortran as part of gcc-\/8, using Homebrew.

With all the requirements satisfied, build the sofware by typing {\ttfamily make} from the root directory.\hypertarget{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md130}{}\doxysection{Using}\label{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md130}
There are two executables generated\+: {\ttfamily damping} and {\ttfamily dump\+\_\+psd\+\_\+models}.\hypertarget{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md131}{}\doxysubsection{Damping}\label{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md131}
This is the main Landau damping code. It is run from the command line ({\ttfamily ./damping}) with the following parameters passed as command-\/line arguments\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/ Stanford Ray Tracer Landau Damping Code -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ }
\DoxyCodeLine{-\/-\/inp\_file, -\/i:     Input file to use  (default: input.ray)}
\DoxyCodeLine{-\/-\/out\_file, -\/o:     Output file to use (default: output.ray)}
\DoxyCodeLine{-\/-\/mode, -\/m:         Mode -\/-\/ 1 for modern implementation, 0 for the legacy}
\DoxyCodeLine{                    damping code from the 2d raytracer.}
\DoxyCodeLine{-\/-\/AE, -\/a:           AE index -\/ integer valued, 1, 2, 3.}
\DoxyCodeLine{-\/-\/Kp, -\/k:           Kp: Real valued, must be positive, 0 to 9}
\DoxyCodeLine{-\/-\/yearday, -\/t:      Year and day of year for plasmapause location (YYYYDDD)}
\DoxyCodeLine{-\/-\/msec, -\/u:         Milliseconds into day, for plasmapause location}
\DoxyCodeLine{-\/-\/geom\_factor, -\/v:  Include the dipole geometric focusing factor? 1 for yes, 0 for no}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ }
\end{DoxyCode}


When using the modern mode (--mode=1), the file {\ttfamily crres\+\_\+clean.\+mat} must be present in the current working directory. The output is a text file, which contains two column vectors\+: time, and relative attenuation.\hypertarget{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md132}{}\doxysubsection{dump\+\_\+psd\+\_\+models}\label{md___users_rileyannereid__pycharm_projects__stanford__raytracer_damping__r_e_a_d_m_e_autotoc_md132}
This module writes the phase-\/space density model used in the modern implementation to a text file. Run it from the command line with the following arguments\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/ Stanford Ray Tracer PSD Model Dumper -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ }
\DoxyCodeLine{  A program to export phase-\/space density models used}
\DoxyCodeLine{             by the Landau damping code.}
\DoxyCodeLine{ -\/-\/out\_file, -\/o:     Output file to use (default: dump.dat)}
\DoxyCodeLine{ -\/-\/mode, -\/m:         Mode -\/-\/ 0 for the legacy Suprathermal model,}
\DoxyCodeLine{                     1 for the CRRES model, and 2 for the hybrid model}
\DoxyCodeLine{ -\/-\/AE, -\/a:           AE index -\/ integer valued, 1, 2, 3.}
\DoxyCodeLine{ -\/-\/Kp, -\/k:           Kp: Real valued, must be positive, 0 to 9}
\DoxyCodeLine{ -\/-\/yearday, -\/t:      Year and day of year for plasmapause location (YYYYDDD)}
\DoxyCodeLine{ -\/-\/msec, -\/u:         Milliseconds into day, for plasmapause location}
\DoxyCodeLine{ -\/-\/MLT, -\/m:          MLT (Magnetic Local Time)}
\DoxyCodeLine{ -\/-\/alpha, -\/p:        Electron pitch angle, in degrees}
\DoxyCodeLine{ -\/-\/Lmin, -\/l:         Minimum L-\/shell to dump}
\DoxyCodeLine{ -\/-\/Lmax, -\/L:         Maximum L-\/shell to dump}
\DoxyCodeLine{ -\/-\/Lstep, -\/S:        L-\/shell step size}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ }
\end{DoxyCode}


The resulting output file is a space-\/separated list of entries, with each row containing\+: L-\/shell, energy, and f. 